"use strict";(self.webpackChunkfilebridge_docs=self.webpackChunkfilebridge_docs||[]).push([[842],{185(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>o,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Server-Install","title":"Server Install","description":"The quickest way to deploy FileBridge on a Linux server or macOS machine is the one-liner install script. It handles everything: checking prerequisites, installing Node.js if needed, downloading the latest release, creating OS-standard directories, generating a secure AUTH_SECRET, and registering FileBridge as a system service that starts automatically on boot.","source":"@site/../docs/Server-Install.md","sourceDirName":".","slug":"/Server-Install","permalink":"/FileBridge/docs/Server-Install","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Getting Started","permalink":"/FileBridge/docs/Getting-Started"},"next":{"title":"Docker Deployment","permalink":"/FileBridge/docs/Docker-Deployment"}}');var i=s(4848),t=s(8453);const l={},d="Server Install",a={},c=[{value:"One-Liner Install",id:"one-liner-install",level:2},{value:"What the Installer Does",id:"what-the-installer-does",level:2},{value:"1 \u2014 System check",id:"1--system-check",level:3},{value:"2 \u2014 Fetch latest release",id:"2--fetch-latest-release",level:3},{value:"3 \u2014 Configuration",id:"3--configuration",level:3},{value:"4 \u2014 Prepare system <em>(Linux only)</em>",id:"4--prepare-system-linux-only",level:3},{value:"5 \u2014 Download and extract",id:"5--download-and-extract",level:3},{value:"6 \u2014 Write configuration",id:"6--write-configuration",level:3},{value:"7 \u2014 Register and start service",id:"7--register-and-start-service",level:3},{value:"Directory Layout",id:"directory-layout",level:2},{value:"Linux",id:"linux",level:3},{value:"macOS",id:"macos",level:3},{value:"AUTH_SECRET",id:"auth_secret",level:2},{value:"Upgrading",id:"upgrading",level:2},{value:"Uninstalling",id:"uninstalling",level:2},{value:"Managing the Service",id:"managing-the-service",level:2},{value:"Linux (systemd)",id:"linux-systemd",level:3},{value:"macOS (launchd)",id:"macos-launchd",level:3},{value:"Reverse Proxy",id:"reverse-proxy",level:2},{value:"Non-Interactive (Automated) Install",id:"non-interactive-automated-install",level:2},{value:"Supported Platforms",id:"supported-platforms",level:2},{value:"First-Run Setup",id:"first-run-setup",level:2},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"server-install",children:"Server Install"})}),"\n",(0,i.jsxs)(n.p,{children:["The quickest way to deploy FileBridge on a Linux server or macOS machine is the one-liner install script. It handles everything: checking prerequisites, installing Node.js if needed, downloading the latest release, creating OS-standard directories, generating a secure ",(0,i.jsx)(n.code,{children:"AUTH_SECRET"}),", and registering FileBridge as a system service that starts automatically on boot."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"one-liner-install",children:"One-Liner Install"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl -fsSL https://raw.githubusercontent.com/go2engle/filebridge/main/install.sh | sudo bash\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"macOS"}),": The installer runs without ",(0,i.jsx)(n.code,{children:"sudo"})," \u2014 it installs to user-local directories and registers a launchd agent."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The script is interactive. It will ask for:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Your external URL (e.g. ",(0,i.jsx)(n.code,{children:"https://files.example.com"})," or ",(0,i.jsx)(n.code,{children:"http://localhost:3000"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["The port to listen on (default: ",(0,i.jsx)(n.code,{children:"3000"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Everything else is automatic."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"what-the-installer-does",children:"What the Installer Does"}),"\n",(0,i.jsx)(n.h3,{id:"1--system-check",children:"1 \u2014 System check"}),"\n",(0,i.jsxs)(n.p,{children:["Verifies OS, CPU architecture, and ",(0,i.jsx)(n.code,{children:"curl"}),". If Node.js 20+ is not found, it offers to install it automatically via NodeSource (Linux) or Homebrew (macOS)."]}),"\n",(0,i.jsx)(n.h3,{id:"2--fetch-latest-release",children:"2 \u2014 Fetch latest release"}),"\n",(0,i.jsx)(n.p,{children:"Queries the GitHub Releases API for the latest version tag."}),"\n",(0,i.jsx)(n.h3,{id:"3--configuration",children:"3 \u2014 Configuration"}),"\n",(0,i.jsxs)(n.p,{children:["Prompts for your URL and port, then generates a cryptographically secure ",(0,i.jsx)(n.code,{children:"AUTH_SECRET"})," using ",(0,i.jsx)(n.code,{children:"openssl rand"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"4--prepare-system-linux-only",children:["4 \u2014 Prepare system ",(0,i.jsx)(n.em,{children:"(Linux only)"})]}),"\n",(0,i.jsxs)(n.p,{children:["Creates a locked-down ",(0,i.jsx)(n.code,{children:"filebridge"})," system user (",(0,i.jsx)(n.code,{children:"--no-create-home --shell /bin/false"}),") and sets directory ownership."]}),"\n",(0,i.jsx)(n.h3,{id:"5--download-and-extract",children:"5 \u2014 Download and extract"}),"\n",(0,i.jsx)(n.p,{children:"Downloads the pre-built standalone tarball for your platform from GitHub Releases and extracts it to the app directory."}),"\n",(0,i.jsx)(n.h3,{id:"6--write-configuration",children:"6 \u2014 Write configuration"}),"\n",(0,i.jsxs)(n.p,{children:["Writes ",(0,i.jsx)(n.code,{children:"/etc/filebridge/filebridge.env"})," (Linux) or ",(0,i.jsx)(n.code,{children:"~/.config/filebridge/filebridge.env"})," (macOS) with all required environment variables."]}),"\n",(0,i.jsx)(n.h3,{id:"7--register-and-start-service",children:"7 \u2014 Register and start service"}),"\n",(0,i.jsxs)(n.p,{children:["Installs and enables a ",(0,i.jsx)(n.strong,{children:"systemd"})," unit (Linux) or ",(0,i.jsx)(n.strong,{children:"launchd"})," plist (macOS), then starts the service and waits for the ",(0,i.jsx)(n.code,{children:"/api/health"})," endpoint to respond."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"directory-layout",children:"Directory Layout"}),"\n",(0,i.jsx)(n.h3,{id:"linux",children:"Linux"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Path"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/opt/filebridge/"})}),(0,i.jsx)(n.td,{children:"Application files (Node.js standalone)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/etc/filebridge/filebridge.env"})}),(0,i.jsxs)(n.td,{children:["Environment config and ",(0,i.jsx)(n.code,{children:"AUTH_SECRET"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/var/lib/filebridge/"})}),(0,i.jsxs)(n.td,{children:["SQLite database (",(0,i.jsx)(n.code,{children:"filebridge.db"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/var/lib/filebridge/backups/"})}),(0,i.jsx)(n.td,{children:"Automated database backups"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/var/log/filebridge/"})}),(0,i.jsx)(n.td,{children:"Log files (journald is primary)"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"macos",children:"macOS"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Path"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/usr/local/opt/filebridge/"})}),(0,i.jsx)(n.td,{children:"Application files"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"~/.config/filebridge/filebridge.env"})}),(0,i.jsxs)(n.td,{children:["Environment config and ",(0,i.jsx)(n.code,{children:"AUTH_SECRET"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"~/.local/share/filebridge/"})}),(0,i.jsx)(n.td,{children:"SQLite database"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"~/.local/share/filebridge/backups/"})}),(0,i.jsx)(n.td,{children:"Database backups"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"~/.local/share/filebridge/logs/"})}),(0,i.jsx)(n.td,{children:"Log files"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"auth_secret",children:"AUTH_SECRET"}),"\n",(0,i.jsxs)(n.p,{children:["The installer generates a unique ",(0,i.jsx)(n.code,{children:"AUTH_SECRET"})," and writes it to the config file. This secret:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Signs user sessions"}),"\n",(0,i.jsx)(n.li,{children:"Encrypts SSO provider credentials stored in the database"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"You must back up the config file alongside your database."})," If the secret is lost, stored SSO credentials cannot be recovered after a server rebuild."]}),"\n",(0,i.jsx)(n.p,{children:"The full value is displayed at the end of a fresh install. On upgrades, the existing secret is always preserved \u2014 the installer never overwrites the config file."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"upgrading",children:"Upgrading"}),"\n",(0,i.jsxs)(n.p,{children:["Re-run the script with ",(0,i.jsx)(n.code,{children:"--upgrade"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl -fsSL https://raw.githubusercontent.com/go2engle/filebridge/main/install.sh | sudo bash -s -- --upgrade\n"})}),"\n",(0,i.jsx)(n.p,{children:"The upgrade process:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Compares the installed version to the latest GitHub release"}),"\n",(0,i.jsxs)(n.li,{children:["Backs up ",(0,i.jsx)(n.code,{children:"filebridge.db"})," to the backups directory with a timestamp"]}),"\n",(0,i.jsx)(n.li,{children:"Stops the service"}),"\n",(0,i.jsxs)(n.li,{children:["Extracts the new release over ",(0,i.jsx)(n.code,{children:"/opt/filebridge/"})," (config and data directories are untouched)"]}),"\n",(0,i.jsx)(n.li,{children:"Restarts the service and waits for the health check"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If FileBridge is already at the latest version, the script exits with a confirmation message."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"uninstalling",children:"Uninstalling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl -fsSL https://raw.githubusercontent.com/go2engle/filebridge/main/install.sh | sudo bash -s -- --uninstall\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This removes the application files, service unit, and system user. Your data and config (",(0,i.jsx)(n.code,{children:"/var/lib/filebridge/"}),", ",(0,i.jsx)(n.code,{children:"/etc/filebridge/"}),") are ",(0,i.jsx)(n.strong,{children:"preserved"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"managing-the-service",children:"Managing the Service"}),"\n",(0,i.jsx)(n.h3,{id:"linux-systemd",children:"Linux (systemd)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Status\nsystemctl status filebridge\n\n# Logs (follow)\njournalctl -fu filebridge\n\n# Stop / Start / Restart\nsystemctl stop filebridge\nsystemctl start filebridge\nsystemctl restart filebridge\n"})}),"\n",(0,i.jsx)(n.h3,{id:"macos-launchd",children:"macOS (launchd)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Status\nlaunchctl list com.filebridge.app\n\n# Logs (follow)\ntail -f ~/.local/share/filebridge/logs/filebridge.log\n\n# Stop / Start\nlaunchctl stop com.filebridge.app\nlaunchctl start com.filebridge.app\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"reverse-proxy",children:"Reverse Proxy"}),"\n",(0,i.jsxs)(n.p,{children:["In production, run FileBridge behind a reverse proxy for TLS termination. See the ",(0,i.jsx)(n.a,{href:"Docker-Deployment#reverse-proxy",children:"Docker Deployment"})," page for nginx and Caddy examples \u2014 the proxy config is identical regardless of whether you used the install script or Docker."]}),"\n",(0,i.jsxs)(n.p,{children:["Update ",(0,i.jsx)(n.code,{children:"NEXTAUTH_URL"})," in your config file to your public HTTPS URL if you didn't provide it during install:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Linux\nsudo nano /etc/filebridge/filebridge.env\n\n# macOS\nnano ~/.config/filebridge/filebridge.env\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then restart the service."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"non-interactive-automated-install",children:"Non-Interactive (Automated) Install"}),"\n",(0,i.jsx)(n.p,{children:"Set environment variables before running the script to skip prompts \u2014 useful for provisioning scripts and CI pipelines:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"FILEBRIDGE_URL=https://files.example.com \\\nFILEBRIDGE_PORT=3000 \\\ncurl -fsSL https://raw.githubusercontent.com/go2engle/filebridge/main/install.sh | sudo bash\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To reuse an existing ",(0,i.jsx)(n.code,{children:"AUTH_SECRET"})," (e.g. when rebuilding a server):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"FILEBRIDGE_URL=https://files.example.com \\\nFILEBRIDGE_AUTH_SECRET=your-existing-secret \\\ncurl -fsSL https://raw.githubusercontent.com/go2engle/filebridge/main/install.sh | sudo bash\n"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Variable"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Default"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"FILEBRIDGE_URL"})}),(0,i.jsxs)(n.td,{children:["External URL (",(0,i.jsx)(n.code,{children:"NEXTAUTH_URL"}),")"]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"http://localhost:3000"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"FILEBRIDGE_PORT"})}),(0,i.jsx)(n.td,{children:"Port to listen on"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"3000"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"FILEBRIDGE_AUTH_SECRET"})}),(0,i.jsx)(n.td,{children:"Use an existing secret instead of generating one"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:"(auto-generated)"})})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"supported-platforms",children:"Supported Platforms"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Platform"}),(0,i.jsx)(n.th,{children:"Architectures"}),(0,i.jsx)(n.th,{children:"Service manager"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Ubuntu 20.04+ / Debian 11+"}),(0,i.jsx)(n.td,{children:"x86_64, arm64"}),(0,i.jsx)(n.td,{children:"systemd"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"RHEL / CentOS / Rocky / AlmaLinux 8+"}),(0,i.jsx)(n.td,{children:"x86_64, arm64"}),(0,i.jsx)(n.td,{children:"systemd"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Fedora 36+"}),(0,i.jsx)(n.td,{children:"x86_64, arm64"}),(0,i.jsx)(n.td,{children:"systemd"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"macOS 13+ (Ventura+)"}),(0,i.jsx)(n.td,{children:"x86_64 (Intel), arm64 (Apple Silicon)"}),(0,i.jsx)(n.td,{children:"launchd"})]})]})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["The install script builds the Node.js process manager integration for whichever platform it detects. Pre-built tarballs for all four platform/arch combinations are published to ",(0,i.jsx)(n.a,{href:"https://github.com/go2engle/filebridge/releases",children:"GitHub Releases"})," on every version tag."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"first-run-setup",children:"First-Run Setup"}),"\n",(0,i.jsxs)(n.p,{children:["Once the service is running, open your browser to the URL you configured. FileBridge detects that no users exist and redirects to the ",(0,i.jsx)(n.strong,{children:"Setup Wizard"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Create Admin Account"})," \u2014 enter a username, display name, and password"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sign in"})," with the credentials you just created"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Create connections"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Create jobs"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Run Now"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"Getting-Started#first-steps-after-setup",children:"Getting Started"})," for the full first-steps walkthrough."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"Configuration",children:"Configuration"})," \u2014 Full list of environment variables"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"Authentication",children:"Authentication"})," \u2014 SSO setup (Azure AD, GitHub), user management, RBAC"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"Database-Backups",children:"Database Backups"})," \u2014 Automated backup scheduling and restore"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"Connections",children:"Connections"})," \u2014 SFTP, SMB/CIFS, and Azure Blob Storage setup"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453(e,n,s){s.d(n,{R:()=>l,x:()=>d});var r=s(6540);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);